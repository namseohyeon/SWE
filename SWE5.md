# 요구 모델링

## 목차
1. [모델링 작업 목적](#모델링-작업-목적)
2. [UML 이란](#UML-이란)
3. [객체 지향 개념](#객체-지향-개념)
4. [모델링 작업 목적](#모델링-작업-목적)


### 모델링 작업 목적

#### 5-1 모델링 기초

#### 모델링하는 이유
- 복잡함을 잘 관리하기 위해
- 형체가 없는 소프트웨어 구조를 시각화 하기 위해
- 다른 사람과 커뮤니케이션 하기 위해
- 문제 도메인 및 제품 요구사항을 이해하기 위해
- 개발 중인 시스템을 이해하기 위하여
- 구현하기 전에 잠재적 솔루션을 실험해보기 위해
- 기존 시스템을 문서화하기 위해 




#### 5-1-1 관점과 추상화 수준
모델은 특정관점과 추상화 수준에 따라 달라짐
![image](https://user-images.githubusercontent.com/64974683/197330590-66cb83ac-3054-4dbd-928c-69127f3b519e.png)

#### 5-1-2 소프트웨어와 모델링
소프트웨어도 모델을 작성하기 위한 표준 및 규칙존재
대부분의 소프트웨어 모델은 그래픽 기호 + 주석으로 구성된 시각적 다이어그램
개발 중에 사용되는 시각적 모델은 추상, 세부 수준, 관점에 따라 다름
![image](https://user-images.githubusercontent.com/64974683/197330721-9aeb785a-e68d-4b9f-8ce2-cfa9f60cd490.png)

모델을 만드는 목적 > 관점, 형식 결정

#### 5-1-3 모델 사이의 관계
모델링 작업의 결과물은 다른 모델링 작업에 영향 줄 수 있음
예) 유스케이스 명세로부터 필요한 요소들을 가져와 도메인 모델로 정리할 수 있음
모델링- 대상을 파악해가면서 특정 관점에 해당하는 요소를 찾아내어 시각적으로 표현한것
![image](https://user-images.githubusercontent.com/64974683/197330823-29f26419-2977-4d96-82a8-2922c82a2bf2.png)

### UML 이란
객체지향 소프트웨어를 모델링하는 표준 그래픽 언어(소프트웨어 모델링의 공통언어)
- 시스템의 여러 측면을 그림으로 모델링
- 하드웨어의 회로도 같은 의미를 가짐

#### 5-1-2 UML의 역사
UML=booch의 방법론 + OMT + OOSE 

#### 5-2-2 UML 다이어그램
UML
- 소프트웨어 모델링의 표기법
- 구성방법론 아님
- 프로세스 정하고 있지 않음
- 유스케이스가 주도, 아키텍쳐 중심, 반복, 점진적 개발 프로세스 권장
![image](https://user-images.githubusercontent.com/64974683/197330958-8c428dee-b1ad-4f5f-90a3-b164bd4ea3a8.png)

시스템의 모델링은 기능적관점, 구조적 관점, 동적 관점으로 구성
구조 다이어그램과 동작 다이어그램으로 나눠짐
구조 다이어그램은 정적 다이어그램이며, 시간적인 요소가 없다
메서드, 클래스 이름, 데이터 구조 등등이 하나의 정적 요소로 작용

UML의 주요 다이어 그램
- 클래스 다이어그램
- 시퀀스 다이어그램
- 커뮤니케이션 다이어그램
- 상태다이어 그램
- 액티비티 다이어그램

<table>
  <tr><td>UML다이어그램</td><td>설명</td><td>모델링 적용</td></tr>
   <tr><td>유스케이스 다이어그램</td>
     <td>- 정점에는 업무 프로세스를 나타내는 사용사례와 액터가 표시됨<br>
       - 간선은 어떤 액터와 업무 프로세스와 상호작용하는 지 나타냄
     </td><td>현재 존재하는 애플리케이션이나 사용자가 개발 요구한 시스템의 업무 프로세스 개관을 나타내는 데 사용됨
     - 시스템 또는 서브시스템의 범위를 나타냄 
     </td></tr>
   <tr><td>클래스 다이어그램</td><td>- 정점은 클래스, 방향이 있는 간선에는 클래스의 관계를 나타내는 방향성 그래프<br>
     - 정점에는 클래스가 가지고 있는 속성과 오퍼레이션의 정보가 표시됨
     </td><td>- 도메인 모델을 나타내는데 사용<br>
     - 개발자가 도메인 개념과 이들 사이의 관계를 이해하고 전달하는데 도움</td></tr>
   <tr><td>시퀀스 다이어그램</td><td>- 정점에는 객체, 방향성이 있는 간선은 객체 사이에 오가는 메세지와 요구 시간 순으로 나타냄 </td><td>- 개발팀이 현재 업무 프로세스를 이해, 분석하는데 도움이 됨<br> 시스템 속 객체들이 업무 프로세스에 대하여 개입하여 어떻게 처리하는 지 보여줌</td></tr>
   <tr><td>상태 다이어그램</td><td>- 정점에는시스템의 상태, 방향성이 있는 간선에는 상태의 변환을 나타내는 방향성 있는 그래프</td><td>상태의존적, 반응적인 시스템 또는 서브 시스템의 동작을 나타내는데 사용됨</td></tr>
   <tr><td>액티비티 다이어그램</td><td>- 각 정점은 정보를 처리하는 작업<br>
     - 방향성 있는 간선은 자료 및 제어 흐름을 나타냄<br> - 제어흐름은 순차,병렬,동기화를 나타냄</td><td>시스템 또는 서브시스템의 복잡한 작업 흐름을 나타내는데 사용</td></tr>
   <tr><td>패키지 다이어그램</td><td>- 정점은 클래스의 묵음, 방향이 있는 간선은 패키지 의존관계 </td><td>복잡한 클래스를 묶어 서브시스템으로 조직화 </td></tr>
   <tr><td>배치 다이어그램</td><td>- 정점은 분산 시스템의 물리적인 컴퓨팅 파워와 그위에 실행되는 컴포넌트, 간선은 네트워크 연결 </td><td> 분산 시스템의 각 컴퓨터의 노드, 컴포넌트, 커넥터 등 시스템의 물리적 자원 배치를 나타내는데 사용</td></tr>
</table>

5-2-3 UML모델링 과정
모델링 작업의 근복적인 목표: 시스템에 있어야할 클래스와 그들의 관계를 찾아내는 것
1. 요구를 유스케이스(사용사례)로 정리하고, 유스케이스 다이어그램을 작성
2. 클래스 후보를 찾아내고 개념적인 도메인 모델 작성
3. 유스케이스를 기초하여 시퀀스 다이어그램을 작성
4. 클래스의 속성, 오퍼레이션 및 클래스 가기의 관계를 찾아 도메안 모델을 완성
5. 상태 다이어그램이나 액티비티 다이어그램 등 다른 다이어그램을 추가하여 UML 모델을 완성
6. 서브시스템을 파악하고 전체 시스템 구조를 설계
7. 적당한 객체를 찾아내거나 커스텀화 또는 객체를 새로 설계
8. ![image](https://user-images.githubusercontent.com/64974683/197332471-6655212f-f6d2-4f90-84c4-f4a5e3262f1f.png)

### 객체 지향 개념

#### 5-3 정적 모델링

#### 5-3-1 객체지향개념
- 객체등의 공통 구조와 동작들을 추상화시킨 것
- 객체, 속성, 연관, 집합, 상속, 다형성 등의 개념이 포함
- ex) 클래스 다이어그램

- 객체와 클래스, 속성과 오퍼레이션, 캡슐화, 상속, 상속,오버라이딩, 오버로딩, 다형성 개념 생략

- 연관 : 서비스를 제공하는 객체와 서비스를 요청하는 객체가 상호작용하는 관계
![image](https://user-images.githubusercontent.com/64974683/197332710-6e6a6726-31e0-4007-ae92-db5e12c90312.png)

제공하는 객체 -- 실행시키는 메세지 --> 제공받는 객체
제공하는 객체 <-- 실행의 결과 -- 제공받는 객체

어떤 클래스가 상호작용할 필요가 있는지는 설계에서 찾아내야함

-가시성
  -객체의 접근 가능성 ( 연관을 맺은 두 객체가 서로 알고 있고, 접근이 가능 )
  -A객체와 B객체가 연관이 있다면 A에서 B객체를 알고 있고 접근 가능해야 함

#### 5-3-2 클래스 다이어그램
UML다이어그램 중 가장 대표적 - 시스템의정적 측면(시간요소x)을 모델링

시간요소의 예시
> 클래스 이름은 변하지 않음(정적)
> 객체 사이의 상호작용은 시간에 따라지는 객체의 동작을 설명(동적 측명)

~~클래스 표현, 속정, 가시성/ 변수이름, 오퍼레이션 생략

- 관계의 표현
  - 연관
  - 상속
  - 의존
  - 구현 
  ![image](https://user-images.githubusercontent.com/64974683/197337351-f8d85710-29c1-43ec-91dc-4bc1af538d18.png)

- 연관
  - 객체 사이에 링크되었음을 의미
  - 시간이 흘러도 유지
  - 구조적으로 연관되어 정보 참조

- 상속
  - 일반화 관계로 모델링

- 의존
  - 가장 결합력 약함
  - 한 클래스의 변경으로 인해 다른 클래스의 변경이 필요할 수 있는 의존성을 의미
  - 일반적으로 한 클래스의 루틴이 의존 관계의 클래스를 매개변수로 사용하거나 리턴 값을 반환할때 사용

- 구현
  - 클래스가 인터페이스를 구현
  
##### 추상클래스 VS  인터페이스

- 추상클래스
  - 클래스 내 추상 메서드가 한개 이상 포함된 클래스
  - 목적: 클래스를 상속받아 기능을 이용, 확정하기 위함
  - 하나만 상속 가능
  
- 인터페이스
  - 모든 메서드가 추상메서드
  - 목적: 함수의 구현을 강제하기 위해
  - 다중상속 가능

- 클래스 다이어그램의 표현요소
![image](https://user-images.githubusercontent.com/64974683/197337976-e44e206b-6955-46bf-b2f3-4fad638a0660.png)

### 모델링-작업-목적
#### 5-4 동적모델링
소프트웨어릐 동적 측면 - 소프트웨어가 실행될때 변경될 수 있는 부분 시간의 함수로만 이해할 수 있다

동적다이어그램은 정적인 클래스 다이어그램을 보완

상호작용 다이어그램의 목적
- 시스템 전체 동작 모델링 : 유스케이스 실연에 필요한 분석 클래스의 상호작용 모델링
- 오퍼레이션 모델링 : 주어진 시간 동안 발생하는 메서드 호출 순서를 보여줌

 UML에서는 두가지 유형의 상호작용 다이어그램 제공
 - 시퀀스 다이어그램: 메세지의 상대적인 순서 쉽게 볼 수 있음
 - 협동 다이어그램: 상호작용과 관련된 모델 요소 간의 구조적 관계를 볼 수 있음
 
 
#### 5-4-1 시퀀스 다이어그램
메세지 교환을 시간적 관게로 나타낸 것
즉. 시스템의 동작을 정형화하고 객체들의 메세지 교환을 울터리 형태로 시각화하여 나타낸 것 
![image](https://user-images.githubusercontent.com/64974683/197338433-e739ae83-d1b1-427e-8df4-aaf4aa88d89e.png)

시퀀스 다이어그램의 기본요소
![image](https://user-images.githubusercontent.com/64974683/197338492-595c7148-3c4c-401b-a18c-1f3d22cd06e5.png)

시스템 다이어그램 작성과정
1. 참여하는 객체 파악 : 유스케이스의 자세한 이번트를 조사하면서 참여하는 객체를 찾아낸다
2. 파악한 객체를 x축에 나열하고 라이프라인을 그음
3. 사용사례에 기술된 이벤트 순서에 따라 객체의 메시지 호출을 화살표로 나타냄

시퀀스 다이어그램에서의 조건, 반복
![image](https://user-images.githubusercontent.com/64974683/197338676-ec605430-0f28-475b-8c52-7d3ca8bfa259.png)

조건은 alt로 표시한 후, 네모박스 씌우기
[조건]operation()로 표시, 조건을 만족하지 않는 경우 점선 밑의 오퍼레이션을 호출

![image](https://user-images.githubusercontent.com/64974683/197338708-0365e41d-d496-41fe-b8e0-915d7ec2e2d4.png)

반복은 loop로 표시한 다음 네모박스
[조건]operation()로 표시, 조건을 만족하면 반복

클래스 다이어 그램과 시권스 다이어 그램의 관계
- 시퀀스 다이어그램은 유스케이스나 특정 오퍼레이션 수행을 위한 메시지 교환에만 초점을 두고 모델링 한것
-> 따라서 파악한 메세지의 소속, 참여 객체들의 관계는 클래스 다이어그램에도 반영

#### 5-4-2 협동다이어그램
- 상호작용에 필요한 객체들간의 링크를 포함한 객체 다이어그램
- 상호작용을 정의하는 객체간의 메세지
![image](https://user-images.githubusercontent.com/64974683/197338857-24d12ff4-3d8e-4bc6-a0d9-defd01fdb4ba.png)ㅋ

클래스 다이어그램의 클래스 사이에 연관이 있는 경우 협동 다이어그램의 객체간에 링크가 있다
시퀀스 다이어그램에서는 메세지가 전달되는 순서대로 그려짐
협동다이어그램에서의 메세지 순서는 에시지 앞에 표시된 십진수 번호에 의해 결정

시퀀스, 협동 다이어그램
특징:
  - 시퀀스 다이어그램
    - 메세지가 전달되는 순서대로 그려짐-
    - 객체간의 정적구조를 추론해야함, 메시지 순서를 잘 보여줌
   - 협동 다이어그램
    - 메시지순서는 메시지 앞 십진수로 나타냄
    - 메시지에 할당된 번호 > 호출순서
    - 객체의 정적구조를 잘 보여줌

#### 5-4-3 상태 다이어 그램
대상 시스템의 동적 동작을 모델링하는 또 다른 유형의 UML다이어그램
시스템의 동작을 수신이벤으와 응답을 기반으로 상태 사이의 전환으로 모델링

상태 다이어그램의 핵심요소
- 상태 : 이벤트를 기다리거나 일부활동을 실행하는 동안 객체 상태
- 전환 : 한 상태에서 다른 상태로의 전환
- 초기상태 : 상태 다이어그램의 기본 시작점
- 최종상태 : 상태 다이어그램에 설명된 상태 시스템의 끝

![image](https://user-images.githubusercontent.com/64974683/197339083-b2e3fcb6-0330-4514-b2cb-36d5f85e3b2c.png)

상태모델링을 위해 해야하는 질문
- 어떤 외부 자극이 관심의 대상이며 영향 받는 객체의 상태는 무엇인가
- 상태 종속적인 객체의 반응이 어떻게 변환하는가
- 상태를 체크하기 위한 속성의 조건은?

#### 5-5 제어모델링
제어흐름을 모델링하는 다이어그램 - 액티비티 다이어그램

액티비티 다이어그램
- 알고리즘이나 프로세스에서 작업절차를 모델링
- 예외처리가 포함된 흐름도와 유사
- 액티비티 사이의 제어흐름을 보여주는  흐름도
- 상호작용 다이어그램을 보완

사용하는 심볼
- 액티비티 - 계산 또는 프로세스
- 전환 - 하나의 액티비티에서 다은 액티비티로 제어가 넘어감
- 분기, 병합 - 조건부 제어 흐름을 모델링하는데 사용
![image](https://user-images.githubusercontent.com/64974683/197339217-96c08cb5-72f5-4796-9dfa-0b20659d4cd7.png)

#### 5-6 모델검증
모델 검증 방법
- 리뷰: 다른사람 눈으로 확인하는 방법 - 일관성 체크표 같은 체크리스 활용
- 테스팅 : 모델에 근거하여 테스트 데이터를 찾아내어 구현 후 테스트
- 정형적 방법 :요구가 정확하고, 모델이 일관성이 있음을 수학적으로 증명
- 프로토타이핑 :예상대로 동작함을 보이기 위해 모델 기반 프로토타입 제작
- 요구추적 : 모델로부터 요구를 거꾸로 추적

- 일관성 체크
요구 모델에 표현된 정보가 오류가 없고, 관련모델 사이에 일관성이 있는지 확인하는 작업

<table>
  <tr><td>다이어그램</td><td>체크 항목</td><tr>
	<tr><td>유스케이스다이어그램</td><td> - 각 유스케이스는 액터가 있는가?<br>
- 각 액터는 적어도 하나의 유스케이스가 있는가?<tr>
- 유스케이스는 명세화 되었나? <br>
- 시퀀스 다이어그램과 매치되는가?</td><tr>
  <tr><td>클래스 다이어그램	</td><td>- 다른 다이어그램에 있는 클래스가 모두 클래스 다이어그램에 있는가?<br>
- 모든 클래스가 속성에 대한 get/set메서드가 있는가?<br></td></tr>
  <tr><td>시퀀스 다이어그램</td><td>	- 객체가 모두 클래스 다이어그램에 있는가?<br>
- 각 메시지가 호출되나?<br>
- 보내는 클래스와 받는 클래스가 연관되어 있나?<br>
- 메시지 보내는 클래스 안에 메서드 호출이 있는가?<br>
- 받는 클래스 안에 메시지가 정의되어 있나?<br>
  </td></tr>
  <tr><td>상태 다이어그램</td>- 상태 다이어그램의 클래스가 클래스 다이어그램에 있나?<br>
<td>
- 각 트랜지션을 구동하는 이벤트가 있는가?<br>
- 각 이벤트를 초기화 하는 객체가 확실히 있나?<br>
- 상태는 속성 값의 서로 다른 조합인가?<br>
- 어떤 조합인지 분명한가?<br>
- 모든 속성이 클래스 다이어그램에 있나?<br>
- 트랜지션을 위한 메서드 호출이 있나?<br>
- 메서드 호출이 새로운 상태를 위하여 속성값이 바뀌나?<br>
- 메서드 호출에서 트랜지션에 대한 조건을 체크하는가?<br>
- 트랜지션에서 액션을 수행하는가?</td>
	</tr>
</table>

